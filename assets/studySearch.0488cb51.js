import{_ as W}from"./time-icon.353b80fd.js";import{_ as y,r as o,k as U,b as p,o as k,c as M,h as a,e as i,s as L,w as _,v as w,t as l,n as N,p as b,q as T}from"./index.b4f54895.js";import{r as x}from"./request.33474bc3.js";import{h as V}from"./moment.9709ab41.js";const j=async t=>await x("https://api.lc.familyeducation.org.cn/v1/quiz/dashboard_admin/list",t);const u=t=>(b("data-v-8ae9d065"),t=t(),T(),t),B={class:"root"},H={class:"flex search-wrap"},z={class:"time-wrap"},G=u(()=>a("img",{class:"time-icon",src:W,alt:""},null,-1)),J=u(()=>a("span",{class:"time-char"},"\u7B5B\u9009\u65F6\u95F4",-1)),Y=u(()=>a("span",{style:{margin:"0 12px"}},"-",-1)),X={class:"complete-wrap"},$={class:"pagination-wrap"},q={__name:"studySearch",setup(t){const v=s=>V(s).format("YYYY/MM/DD HH:mm:ss"),d=o(""),c=o(""),g=o(""),P=o(7),C=o(1),S=o(1),A=o([]),m=async()=>{const s={limit:P.value,page:C.value,start_date:d.value,end_date:c.value,phone:g.value},n=await j(s);A.value=n.data,S.value=n.total};U(()=>{m()});const E=s=>s+1,I={background:"#FAFAFA",height:"62px"},R=s=>{console.log(`${s} items per page`)},O=s=>{console.log(`current page: ${s}`)};return(s,n)=>{const D=p("el-date-picker"),F=p("el-input"),r=p("el-table-column"),f=p("el-table"),h=p("el-pagination");return k(),M("div",B,[a("div",H,[a("div",z,[G,J,i(D,{clearable:"",class:"time-input",modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=e=>d.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u8D77\u59CB\u65F6\u95F4",onChange:m},null,8,["modelValue"]),Y,i(D,{class:"time-input",modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=e=>c.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",onChange:m},null,8,["modelValue"])]),i(F,{modelValue:g.value,"onUpdate:modelValue":n[2]||(n[2]=e=>g.value=e),class:"search-input",placeholder:"\u641C\u7D22\u624B\u673A\u53F7","suffix-icon":L(w),onChange:m},null,8,["modelValue","suffix-icon"])]),i(f,{"header-cell-style":I,data:A.value,style:{width:"100%"}},{default:_(()=>[i(r,{type:"index",label:"\u5E8F\u53F7",width:"80",index:E}),i(r,{label:"\u7528\u6237\u540D",width:"180",align:"center"},{default:_(({row:e})=>[a("div",null,l(e.user_info?e.user_info.wx_name:""),1)]),_:1}),i(r,{label:"\u624B\u673A\u53F7",width:"180",align:"center"},{default:_(({row:e})=>[a("div",null,l(e.user_info?e.user_info.phone:""),1)]),_:1}),i(r,{label:"\u5B66\u4E60\u5185\u5BB9",align:"center"},{default:_(({row:e})=>[a("div",null,l(e.quiz_info?e.quiz_info.title:""),1)]),_:1}),i(r,{label:"\u5B66\u4E60\u65F6\u95F4",width:"280",align:"center"},{default:_(({row:e})=>[a("div",null,l(v(e.date)),1)]),_:1}),i(r,{label:"\u5B8C\u6210\u60C5\u51B5",align:"center",fixed:"right"},{default:_(({row:e})=>[a("div",X,[a("span",{class:N(["char",e.percent==100?"red":"green"])},"\u5B8C\u6210"+l(e.percent)+"%",3)])]),_:1})]),_:1},8,["data"]),a("div",$,[i(h,{currentPage:C.value,"onUpdate:currentPage":n[3]||(n[3]=e=>C.value=e),"page-size":P.value,"onUpdate:page-size":n[4]||(n[4]=e=>P.value=e),"page-sizes":[10,15,20],background:"",layout:"total, prev, pager, next, jumper",total:S.value,onSizeChange:R,onCurrentChange:O},null,8,["currentPage","page-size","total"])])])}}},ne=y(q,[["__scopeId","data-v-8ae9d065"]]);export{ne as default};
