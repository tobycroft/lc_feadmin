import{g as S}from"./ak.db6abe61.js";import{r as B,a as C}from"./gift.833b6f57.js";import{_ as N,y as R,r as b,z,k as F,u as M,b as d,o as i,c as f,e as a,w as l,h as V,s as P,i as m,g as v,j as g,E as j,p as T,q as D}from"./index.84129b26.js";import"./request.72d34464.js";const H=c=>(T("data-v-f9c918d8"),c=c(),D(),c),J={class:"root"},K=["src"],L={key:1,class:"upload-wrap-box"},O=["src"],Q=H(()=>V("div",{class:"upload-btn"},"\u4E0A\u4F20\u56FE\u7247",-1)),W={__name:"uploadGift",setup(c){const n=R(),r=b(0),e=z({name:"",num:"",type:"",possible:""}),s=b("");F(()=>{n.query.id&&(e.name=n.query.name,e.num=n.query.num,e.type=n.query.type,e.possible=n.query.possible,r.value=n.query.id,s.value=n.query.img)});const h=(o,t)=>{s.value=o.data},q=async()=>{const o={name:e.name,img:s.value,head_img:s.value,type:e.type,num:e.num,possible:e.possible};e.type=="common"&&(o.num=9999,o.possible=100),await B(o)},w=async()=>{const o={id:r.value,name:e.name,img:s.value,head_img:s.value,type:e.type,num:e.num,possible:e.possible};e.type=="common"&&(o.num=9999,o.possible=100),await C(o)},k=o=>{},x=M(),G=async()=>{r.value?await w():await q(),j.success("\u4FDD\u5B58\u6210\u529F!"),x.go(-1)};return(o,t)=>{const _=d("el-input"),p=d("el-form-item"),I=d("el-upload"),y=d("el-radio"),U=d("el-radio-group"),A=d("el-button"),E=d("el-form");return i(),f("div",J,[a(E,{model:e,"label-width":"120px"},{default:l(()=>[a(p,{label:"\u793C\u52B5\u540D\u79F0\uFF1A"},{default:l(()=>[a(_,{clearable:"",class:"input-style",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=u=>e.name=u),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(p,{label:"\u793C\u52B5\u56FE\u7247\uFF1A",style:{margin:"40px 0"}},{default:l(()=>[a(I,{class:"avatar-uploader",action:"https://upload.tuuz.cc:444/v1/file/index/upfull?token=lc","show-file-list":!1,"on-success":h,"before-upload":k},{default:l(()=>[s.value?(i(),f("img",{key:0,src:s.value,class:"upload-img"},null,8,K)):(i(),f("div",L,[V("img",{class:"upload-img-icon",src:P(S)("upload-image-icon.png"),alt:""},null,8,O),Q]))]),_:1})]),_:1}),a(p,{label:"\u793C\u52B5\u7C7B\u578B\uFF1A"},{default:l(()=>[a(U,{modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=u=>e.type=u)},{default:l(()=>[a(y,{label:"common"},{default:l(()=>[m("\u5E38\u89C4\u793C\u52B5")]),_:1}),a(y,{label:"other"},{default:l(()=>[m("\u7A00\u6709\u793C\u52B5")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.type=="other"?(i(),v(p,{key:0,label:"\u793C\u52B5\u6570\u91CF\uFF1A"},{default:l(()=>[a(_,{clearable:"",class:"input-style",modelValue:e.num,"onUpdate:modelValue":t[2]||(t[2]=u=>e.num=u),placeholder:"\u8BF7\u8F93\u5165\u793C\u5238\u6570\u91CF"},null,8,["modelValue"])]),_:1})):g("",!0),e.type=="other"?(i(),v(p,{key:1,label:"\u6982\u7387\u8BBE\u7F6E\uFF1A"},{default:l(()=>[a(_,{clearable:"",class:"input-style",modelValue:e.possible,"onUpdate:modelValue":t[3]||(t[3]=u=>e.possible=u),placeholder:"\u8BF7\u8F93\u5165\u6982\u7387(0-100\u4E4B\u95F4)"},{append:l(()=>[m("%")]),_:1},8,["modelValue"])]),_:1})):g("",!0),a(p,null,{default:l(()=>[a(A,{class:"btn-save",type:"primary",onClick:G},{default:l(()=>[m("\u4FDD\u5B58\u793C\u52B5")]),_:1})]),_:1})]),_:1},8,["model"])])}}},ee=N(W,[["__scopeId","data-v-f9c918d8"]]);export{ee as default};
