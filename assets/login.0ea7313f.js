import{g as D}from"./ak.db6abe61.js";import{u,m as E,E as l,_ as R,r as P,b as c,o as O,c as A,h as i,e as _,w as p,C as I,i as S,p as M,q as N}from"./index.446b4629.js";import{r as F}from"./request.23f8765b.js";const T=async s=>await F("https://api.lc.familyeducation.org.cn/v1/user/auth/login",s);function U(){const s=u(),n=async(o,r)=>await T({phone:o,password:r}),m=o=>{const r=/^[1][3-9][\d]{9}/;return o?r.test(o)||l.error("\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"):l.error("\u8BF7\u8F93\u5165\u624B\u673A\u53F7"),r.test(o)},e=o=>{if(!o)l.error("\u8BF7\u8F93\u5165\u5BC6\u7801");else return!0},d=E();return{onSubmit:async(o,r)=>{if(!m(o)||!e(r))return;const t=await n(o,r);t.token?(d.getLoginInfo(t.token,t.uid),s.push({path:"/studySearch"})):l.error("\u65E0\u767B\u5F55\u6743\u9650")}}}const f={setup(){const s=P(""),n=P(""),{onSubmit:m}=U();return{getImageUrl:D,phoneRef:s,passwordRef:n,onSubmit:m}}},C=s=>(M("data-v-22c609ec"),s=s(),N(),s),v={class:"main-wrap"},b=["src"],y={class:"login-wrap"},L=C(()=>i("h2",{class:"title"},"\u664B\u6C5F\u5E02\u65B0\u664B\u5BB6\u5EAD\u80FD\u529B\u4FC3\u8FDB\u5E73\u53F0",-1)),h={class:"login-box"},W=C(()=>i("h3",null,"\u767B\u5F55\u540E\u53F0\u7BA1\u7406",-1)),x=["src"],V=["src"];function w(s,n,m,e,d,g){const o=c("el-input"),r=c("el-button"),t=c("el-checkbox");return O(),A("div",{class:"root",style:I(`background-image: url(${e.getImageUrl("login-bg.png")})`)},[i("div",v,[i("img",{class:"people-img",src:e.getImageUrl("login-people.png"),alt:""},null,8,b),i("div",y,[L,i("div",h,[W,_(o,{maxlength:"11",modelValue:e.phoneRef,"onUpdate:modelValue":n[0]||(n[0]=a=>e.phoneRef=a),clearable:"",type:"text",class:"login-input",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},{prefix:p(()=>[i("img",{class:"icon",src:e.getImageUrl("login-phone.png"),alt:""},null,8,x)]),_:1},8,["modelValue"]),_(o,{maxlength:"11",modelValue:e.passwordRef,"onUpdate:modelValue":n[1]||(n[1]=a=>e.passwordRef=a),clearable:"",type:"text",class:"login-input",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{prefix:p(()=>[i("img",{class:"icon",src:e.getImageUrl("login-password.png"),alt:""},null,8,V)]),_:1},8,["modelValue"]),_(r,{class:"login-btn",onClick:n[2]||(n[2]=a=>e.onSubmit(e.phoneRef,e.passwordRef))},{default:p(()=>[S("\u767B\u5F55")]),_:1}),_(t,null,{default:p(()=>[S("\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55")]),_:1})])])])],4)}const k=R(f,[["render",w],["__scopeId","data-v-22c609ec"]]);export{k as default};
