import{_ as F}from"./time-icon.80f3a1b0.js";import{_ as M,r as i,k as h,b as p,o as U,c as b,h as s,e as a,s as y,w as r,v as k,t as l,n as W,p as L,q as V}from"./index.46ff00ed.js";import{r as x}from"./request.ee69824f.js";import{h as w}from"./moment.9709ab41.js";const q=async t=>await x("https://api.lc.familyeducation.org.cn/v1/quiz/dashboard_admin/list",t);const S=t=>(L("data-v-8ae9d065"),t=t(),V(),t),G={class:"root"},j={class:"flex search-wrap"},H={class:"time-wrap"},K=S(()=>s("img",{class:"time-icon",src:F,alt:""},null,-1)),B=S(()=>s("span",{class:"time-char"},"\u7B5B\u9009\u65F6\u95F4",-1)),X=S(()=>s("span",{style:{margin:"0 12px"}},"-",-1)),z={class:"complete-wrap"},Y={class:"pagination-wrap"},$={__name:"studySearch",setup(t){const R=o=>w(o).format("YYYY/MM/DD HH:mm:ss"),c=i(""),d=i(""),g=i(""),u=i(7),P=i(1),C=i(1),D=i([]),m=async()=>{const o={limit:u.value,page:P.value,start_date:c.value,end_date:d.value,phone:g.value},n=await q(o);D.value=n.data,C.value=n.total};h(()=>{m()});const E=o=>o+1,A={background:"#FAFAFA",height:"62px"},O=o=>{console.log(`${o} items per page`)},f=o=>{console.log(`current page: ${o}`)};return(o,n)=>{const v=p("el-date-picker"),I=p("el-input"),_=p("el-table-column"),T=p("el-table"),N=p("el-pagination");return U(),b("div",G,[s("div",j,[s("div",H,[K,B,a(v,{clearable:"",class:"time-input",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u8D77\u59CB\u65F6\u95F4",onChange:m},null,8,["modelValue"]),X,a(v,{class:"time-input",modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=e=>d.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",onChange:m},null,8,["modelValue"])]),a(I,{modelValue:g.value,"onUpdate:modelValue":n[2]||(n[2]=e=>g.value=e),class:"search-input",placeholder:"\u641C\u7D22\u624B\u673A\u53F7","suffix-icon":y(k),onChange:m},null,8,["modelValue","suffix-icon"])]),a(T,{"header-cell-style":A,data:D.value,style:{width:"100%"}},{default:r(()=>[a(_,{type:"index",label:"\u5E8F\u53F7",width:"80",index:E}),a(_,{label:"\u7528\u6237\u540D",width:"180",align:"center"},{default:r(({row:e})=>[s("div",null,l(e.user_info?e.user_info.wx_name:""),1)]),_:1}),a(_,{label:"\u624B\u673A\u53F7",width:"180",align:"center"},{default:r(({row:e})=>[s("div",null,l(e.user_info?e.user_info.phone:""),1)]),_:1}),a(_,{label:"\u5B66\u4E60\u5185\u5BB9",align:"center"},{default:r(({row:e})=>[s("div",null,l(e.quiz_info?e.quiz_info.title:""),1)]),_:1}),a(_,{label:"\u5B66\u4E60\u65F6\u95F4",width:"280",align:"center"},{default:r(({row:e})=>[s("div",null,l(R(e.date)),1)]),_:1}),a(_,{label:"\u5B8C\u6210\u60C5\u51B5",align:"center",fixed:"right"},{default:r(({row:e})=>[s("div",z,[s("span",{class:W(["char",e.percent==100?"red":"green"])},"\u5B8C\u6210"+l(e.percent)+"%",3)])]),_:1})]),_:1},8,["data"]),s("div",Y,[a(N,{currentPage:P.value,"onUpdate:currentPage":n[3]||(n[3]=e=>P.value=e),"page-size":u.value,"onUpdate:pageSize":n[4]||(n[4]=e=>u.value=e),"page-sizes":[10,15,20],background:"",layout:"total, prev, pager, next, jumper",total:C.value,onSizeChange:O,onCurrentChange:f},null,8,["currentPage","page-size","total"])])])}}},ne=M($,[["__scopeId","data-v-8ae9d065"]]);export{ne as default};
