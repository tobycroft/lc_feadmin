import{_ as f}from"./time-icon.80f3a1b0.js";import{_ as T,r,k as h,b as m,o as U,c as y,h as n,e as s,s as b,w as l,v as W,t as _,n as L,p as V,q as x}from"./index.84129b26.js";import{r as q}from"./request.72d34464.js";import{h as w}from"./moment.9709ab41.js";const G=async t=>await q("https://api.lc.familyeducation.org.cn/v1/quiz/dashboard_admin/list",t);const C=t=>(V("data-v-8ae9d065"),t=t(),x(),t),j={class:"root"},K={class:"flex search-wrap"},H={class:"time-wrap"},k=C(()=>n("img",{class:"time-icon",src:f,alt:""},null,-1)),X=C(()=>n("span",{class:"time-char"},"\u7B5B\u9009\u65F6\u95F4",-1)),B=C(()=>n("span",{style:{margin:"0 12px"}},"-",-1)),z={class:"complete-wrap"},J={class:"pagination-wrap"},$={__name:"studySearch",setup(t){const R=a=>w(a).format("YYYY/MM/DD HH:mm:ss"),p=r(""),c=r(""),P=r(""),S=r(7),u=r(1),g=r(1),D=r([]),d=async()=>{const a={limit:S.value,page:u.value,start_date:p.value,end_date:c.value,phone:P.value},o=await G(a);D.value=o.data,g.value=o.total};h(()=>{d()});const O=a=>a+1,A={background:"#FAFAFA",height:"62px"},I=a=>{console.log(`${a} items per page`)},v=a=>{console.log(`current page: ${a}`)};return(a,o)=>{const E=m("el-date-picker"),M=m("el-input"),i=m("el-table-column"),N=m("el-table"),F=m("el-pagination");return U(),y("div",j,[n("div",K,[n("div",H,[k,X,s(E,{clearable:"",class:"time-input",modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u8D77\u59CB\u65F6\u95F4",onChange:d},null,8,["modelValue"]),B,s(E,{class:"time-input",modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",onChange:d},null,8,["modelValue"])]),s(M,{modelValue:P.value,"onUpdate:modelValue":o[2]||(o[2]=e=>P.value=e),class:"search-input",placeholder:"\u641C\u7D22\u624B\u673A\u53F7","suffix-icon":b(W),onChange:d},null,8,["modelValue","suffix-icon"])]),s(N,{"header-cell-style":A,data:D.value,style:{width:"100%"}},{default:l(()=>[s(i,{type:"index",label:"\u5E8F\u53F7",width:"80",index:O}),s(i,{label:"\u7528\u6237\u540D",width:"180",align:"center"},{default:l(({row:e})=>[n("div",null,_(e.user_info?e.user_info.wx_name:""),1)]),_:1}),s(i,{label:"\u624B\u673A\u53F7",width:"180",align:"center"},{default:l(({row:e})=>[n("div",null,_(e.user_info?e.user_info.phone:""),1)]),_:1}),s(i,{label:"\u5B66\u4E60\u5185\u5BB9",align:"center"},{default:l(({row:e})=>[n("div",null,_(e.quiz_info?e.quiz_info.title:""),1)]),_:1}),s(i,{label:"\u5B66\u4E60\u65F6\u95F4",width:"280",align:"center"},{default:l(({row:e})=>[n("div",null,_(R(e.date)),1)]),_:1}),s(i,{label:"\u5B8C\u6210\u60C5\u51B5",align:"center",fixed:"right"},{default:l(({row:e})=>[n("div",z,[n("span",{class:L(["char",e.percent==100?"red":"green"])},"\u5B8C\u6210"+_(e.percent)+"%",3)])]),_:1})]),_:1},8,["data"]),n("div",J,[s(F,{currentPage:u.value,"onUpdate:currentPage":o[3]||(o[3]=e=>u.value=e),"page-size":S.value,"onUpdate:page-size":o[4]||(o[4]=e=>S.value=e),"page-sizes":[10,15,20],background:"",layout:"total, prev, pager, next, jumper",total:g.value,onSizeChange:I,onCurrentChange:v},null,8,["currentPage","page-size","total"])])])}}},oe=T($,[["__scopeId","data-v-8ae9d065"]]);export{oe as default};
