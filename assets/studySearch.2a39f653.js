import{_ as h}from"./time-icon.80f3a1b0.js";import{_ as N,r as t,k as F,b as p,o as U,c as b,h as s,e as a,s as y,w as _,v as k,t as l,n as W,p as V,q as L}from"./index.0cd409a9.js";import{r as x}from"./request.e927ab81.js";import{h as w}from"./moment.9709ab41.js";const q=async i=>(console.log(i),await x("https://api.lc.familyeducation.org.cn/v1/quiz/dashboard_admin/list",i));const C=i=>(V("data-v-8ae9d065"),i=i(),L(),i),G={class:"root"},j={class:"flex search-wrap"},H={class:"time-wrap"},K=C(()=>s("img",{class:"time-icon",src:h,alt:""},null,-1)),z=C(()=>s("span",{class:"time-char"},"\u7B5B\u9009\u65F6\u95F4",-1)),B=C(()=>s("span",{style:{margin:"0 12px"}},"-",-1)),X={class:"complete-wrap"},Y={class:"pagination-wrap"},$={__name:"studySearch",setup(i){const E=o=>w(o).format("YYYY/MM/DD HH:mm:ss"),c=t(""),d=t(""),g=t(""),u=t(7),P=t(1),S=t(1),D=t([]),m=async()=>{const o={limit:u.value,page:P.value,start_date:c.value,end_date:d.value,phone:g.value},n=await q(o);D.value=n.data,S.value=n.total};F(()=>{m()});const A=o=>o+1,R={background:"#FAFAFA",height:"62px"},O=o=>{console.log(`${o} items per page`)},f=o=>{console.log(`current page: ${o}`)};return(o,n)=>{const v=p("el-date-picker"),M=p("el-input"),r=p("el-table-column"),I=p("el-table"),T=p("el-pagination");return U(),b("div",G,[s("div",j,[s("div",H,[K,z,a(v,{clearable:"",class:"time-input",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u8D77\u59CB\u65F6\u95F4",onChange:m},null,8,["modelValue"]),B,a(v,{class:"time-input",modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=e=>d.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",onChange:m},null,8,["modelValue"])]),a(M,{modelValue:g.value,"onUpdate:modelValue":n[2]||(n[2]=e=>g.value=e),class:"search-input",placeholder:"\u641C\u7D22\u624B\u673A\u53F7","suffix-icon":y(k),onChange:m},null,8,["modelValue","suffix-icon"])]),a(I,{"header-cell-style":R,data:D.value,style:{width:"100%"}},{default:_(()=>[a(r,{type:"index",label:"\u5E8F\u53F7",width:"80",index:A}),a(r,{label:"\u7528\u6237\u540D",width:"180",align:"center"},{default:_(({row:e})=>[s("div",null,l(e.user_info?e.user_info.wx_name:""),1)]),_:1}),a(r,{label:"\u624B\u673A\u53F7",width:"180",align:"center"},{default:_(({row:e})=>[s("div",null,l(e.user_info?e.user_info.phone:""),1)]),_:1}),a(r,{label:"\u5B66\u4E60\u5185\u5BB9",align:"center"},{default:_(({row:e})=>[s("div",null,l(e.quiz_info?e.quiz_info.title:""),1)]),_:1}),a(r,{label:"\u5B66\u4E60\u65F6\u95F4",width:"280",align:"center"},{default:_(({row:e})=>[s("div",null,l(E(e.date)),1)]),_:1}),a(r,{label:"\u5B8C\u6210\u60C5\u51B5",align:"center",fixed:"right"},{default:_(({row:e})=>[s("div",X,[s("span",{class:W(["char",e.percent==100?"red":"green"])},"\u5B8C\u6210"+l(e.percent)+"%",3)])]),_:1})]),_:1},8,["data"]),s("div",Y,[a(T,{currentPage:P.value,"onUpdate:currentPage":n[3]||(n[3]=e=>P.value=e),"page-size":u.value,"onUpdate:pageSize":n[4]||(n[4]=e=>u.value=e),"page-sizes":[10,15,20],background:"",layout:"total, prev, pager, next, jumper",total:S.value,onSizeChange:O,onCurrentChange:f},null,8,["currentPage","page-size","total"])])])}}},ne=N($,[["__scopeId","data-v-8ae9d065"]]);export{ne as default};
