import{g as A}from"./ak.db6abe61.js";import{u as E,m as R,E as d,_ as D,r as C,b as p,o as I,c as u,h as r,e as l,w as _,C as O,i as P,p as U,q as F}from"./index.add95e2c.js";import{r as f}from"./request.99259bfe.js";const M=async n=>await f("https://api.lc.familyeducation.org.cn/v1/user/auth/login",n);function L(){const n=E(),s=async(o,i)=>await M({phone:o,password:i}),t=o=>{const i=/^[1][3-9][\d]{9}/;return o?i.test(o)||d.error("\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"):d.error("\u8BF7\u8F93\u5165\u624B\u673A\u53F7"),i.test(o)},e=o=>{if(!o)d.error("\u8BF7\u8F93\u5165\u5BC6\u7801");else return!0},c=R();return{onSubmit:async(o,i)=>{if(!t(o)||!e(i))return;const a=await s(o,i);a.token?(c.getLoginInfo(a.token,a.uid),n.push({path:"/studySearch"})):d.error("\u65E0\u767B\u5F55\u6743\u9650")}}}const h={setup(){const n=C(""),s=C(""),{onSubmit:t}=L();return{getImageUrl:A,phoneRef:n,passwordRef:s,onSubmit:t}}},S=n=>(U("data-v-22c609ec"),n=n(),F(),n),T={class:"main-wrap"},w=["src"],N={class:"login-wrap"},y=S(()=>r("h2",{class:"title"},"\u664B\u6C5F\u5E02\u65B0\u664B\u5BB6\u5EAD\u80FD\u529B\u4FC3\u8FDB\u5E73\u53F0",-1)),b={class:"login-box"},V=S(()=>r("h3",null,"\u767B\u5F55\u540E\u53F0\u7BA1\u7406",-1)),W=["src"],x=["src"];function v(n,s,t,e,c,g){const o=p("el-input"),i=p("el-button"),a=p("el-checkbox");return I(),u("div",{class:"root",style:O(`background-image: url(${e.getImageUrl("login-bg.png")})`)},[r("div",T,[r("img",{class:"people-img",src:e.getImageUrl("login-people.png"),alt:""},null,8,w),r("div",N,[y,r("div",b,[V,l(o,{maxlength:"11",modelValue:e.phoneRef,"onUpdate:modelValue":s[0]||(s[0]=m=>e.phoneRef=m),clearable:"",type:"text",class:"login-input",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},{prefix:_(()=>[r("img",{class:"icon",src:e.getImageUrl("login-phone.png"),alt:""},null,8,W)]),_:1},8,["modelValue"]),l(o,{maxlength:"11",modelValue:e.passwordRef,"onUpdate:modelValue":s[1]||(s[1]=m=>e.passwordRef=m),clearable:"",type:"text",class:"login-input",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{prefix:_(()=>[r("img",{class:"icon",src:e.getImageUrl("login-password.png"),alt:""},null,8,x)]),_:1},8,["modelValue"]),l(i,{class:"login-btn",onClick:s[2]||(s[2]=m=>e.onSubmit(e.phoneRef,e.passwordRef))},{default:_(()=>[P("\u767B\u5F55")]),_:1}),l(a,null,{default:_(()=>[P("\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55")]),_:1})])])])],4)}const K=D(h,[["render",v],["__scopeId","data-v-22c609ec"]]);export{K as default};
