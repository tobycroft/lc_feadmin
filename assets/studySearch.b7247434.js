import{_ as M}from"./time-icon.39e37f07.js";import{_ as L,r as i,k as y,b as m,o as w,c as T,h as n,e as s,s as N,w as l,v as b,t as d,n as v,p as V,q as x}from"./index.272efec0.js";import{r as W}from"./request.d529e952.js";import{h as k}from"./moment.9709ab41.js";const G=async r=>await W("https://api.lc.familyeducation.org.cn/v1/quiz/dashboard_admin/list",r);const g=r=>(V("data-v-8ae9d065"),r=r(),x(),r),j={class:"root"},H={class:"flex search-wrap"},K={class:"time-wrap"},B=g(()=>n("img",{class:"time-icon",src:M,alt:""},null,-1)),X=g(()=>n("span",{class:"time-char"},"\u7B5B\u9009\u65F6\u95F4",-1)),z=g(()=>n("span",{style:{margin:"0 12px"}},"-",-1)),J={class:"complete-wrap"},Q={class:"pagination-wrap"},Y={__name:"studySearch",setup(r){const R=a=>k(a).format("YYYY/MM/DD HH:mm:ss"),p=i(""),c=i(""),C=i(""),P=i(7),S=i(1),A=i(1),E=i([]),_=async()=>{const a={limit:P.value,page:S.value,start_date:p.value,end_date:c.value,phone:C.value},o=await G(a);E.value=o.data,A.value=o.total};y(()=>{_()});const D=a=>a+1,I={background:"#FAFAFA",height:"62px"},O=a=>{console.log(`${a} items per page`)},h=a=>{console.log(`current page: ${a}`)};return(a,o)=>{const u=m("el-date-picker"),F=m("el-input"),t=m("el-table-column"),f=m("el-table"),U=m("el-pagination");return w(),T("div",j,[n("div",H,[n("div",K,[B,X,s(u,{clearable:"",class:"time-input",modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u8D77\u59CB\u65F6\u95F4",onChange:_},null,8,["modelValue"]),z,s(u,{class:"time-input",modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u7ED3\u675F\u65F6\u95F4",onChange:_},null,8,["modelValue"])]),s(F,{modelValue:C.value,"onUpdate:modelValue":o[2]||(o[2]=e=>C.value=e),class:"search-input",placeholder:"\u641C\u7D22\u624B\u673A\u53F7","suffix-icon":N(b),onChange:_},null,8,["modelValue","suffix-icon"])]),s(f,{"header-cell-style":I,data:E.value,style:{width:"100%"}},{default:l(()=>[s(t,{type:"index",label:"\u5E8F\u53F7",width:"80",index:D}),s(t,{label:"\u7528\u6237\u540D",width:"180",align:"center"},{default:l(({row:e})=>[n("div",null,d(e.user_info?e.user_info.wx_name:""),1)]),_:1}),s(t,{label:"\u624B\u673A\u53F7",width:"180",align:"center"},{default:l(({row:e})=>[n("div",null,d(e.user_info?e.user_info.phone:""),1)]),_:1}),s(t,{label:"\u5B66\u4E60\u5185\u5BB9",align:"center"},{default:l(({row:e})=>[n("div",null,d(e.quiz_info?e.quiz_info.title:""),1)]),_:1}),s(t,{label:"\u5B66\u4E60\u65F6\u95F4",width:"280",align:"center"},{default:l(({row:e})=>[n("div",null,d(R(e.date)),1)]),_:1}),s(t,{label:"\u5B8C\u6210\u60C5\u51B5",align:"center",fixed:"right"},{default:l(({row:e})=>[n("div",J,[n("span",{class:v(["char",e.percent==100?"red":"green"])},"\u5B8C\u6210"+d(e.percent)+"%",3)])]),_:1})]),_:1},8,["data"]),n("div",Q,[s(U,{currentPage:S.value,"onUpdate:currentPage":o[3]||(o[3]=e=>S.value=e),"page-size":P.value,"onUpdate:page-size":o[4]||(o[4]=e=>P.value=e),"page-sizes":[10,15,20],background:"",layout:"total, prev, pager, next, jumper",total:A.value,onSizeChange:O,onCurrentChange:h},null,8,["currentPage","page-size","total"])])])}}},oe=L(Y,[["__scopeId","data-v-8ae9d065"]]);export{oe as default};
